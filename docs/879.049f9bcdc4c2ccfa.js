"use strict";(self.webpackChunkBlockBusterDB=self.webpackChunkBlockBusterDB||[]).push([[879],{879:(S,_,a)=>{a.r(_),a.d(_,{TVDetailsComponent:()=>C});var c=a(6814),d=a(6094),g=a(756),p=a(958),u=a(8612),e=a(4769),m=a(7686),h=a(6593);function T(o,n){if(1&o&&(e.TgZ(0,"div",29),e._UZ(1,"img",30),e.qZA()),2&o){const t=n.$implicit,s=e.oxw();e.xp6(1),e.Q6J("src",s.baseUrlImg+t.logo_path,e.LSH)("alt",t.name)}}function v(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(i){e.CHM(t);const l=e.oxw().index,r=e.oxw();return e.KtG(r.takeSeasonNumber(i,l))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.uIk("data-bs-target","#Season"+t.season_number),e.xp6(1),e.Oqu(t.name)}}function b(o,n){if(1&o&&(e.TgZ(0,"li",31),e.YNc(1,v,2,2,"button",32),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",0!=t.season_number)}}function f(o,n){1&o&&(e.TgZ(0,"div",38),e._UZ(1,"app-loading-episodes"),e.qZA())}const x=function(o){return[o]};function V(o,n){if(1&o&&(e.TgZ(0,"a",40),e._UZ(1,"img",41),e.TgZ(2,"span",42),e._uU(3),e.qZA(),e.TgZ(4,"h3",43),e._uU(5),e.qZA()()),2&o){const t=e.oxw().$implicit,s=e.oxw(2);e.Q6J("routerLink",e.VKq(5,x,"/episode//"+s.id.id+"/"+t.season_number+"/"+t.episode_number)),e.xp6(1),e.Q6J("src",s.baseUrlImg+t.still_path,e.LSH),e.xp6(2),e.AsE("S",t.season_number,"/E",t.episode_number,""),e.xp6(2),e.Oqu(t.name)}}function Z(o,n){1&o&&e.YNc(0,V,6,7,"ng-template",39)}function D(o,n){if(1&o&&(e.TgZ(0,"div",34),e.YNc(1,f,2,0,"div",35),e.TgZ(2,"owl-carousel-o",36),e.YNc(3,Z,1,0,null,37),e.qZA()()),2&o){const t=n.$implicit,s=e.oxw();e.uIk("id","Season"+t.season_number),e.xp6(1),e.Q6J("ngIf",s.flag),e.xp6(1),e.Q6J("options",s.customOptions2),e.xp6(1),e.Q6J("ngForOf",s.TVEpisodes.episodes)("ngForTrackBy",s.trackByFn)}}function w(o,n){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"img",30),e.qZA()),2&o){const t=n.$implicit,s=e.oxw();e.xp6(1),e.Q6J("src",s.baseUrlImg+t.logo_path,e.LSH)("alt",t.name)}}function k(o,n){if(1&o&&(e.TgZ(0,"div")(1,"div",44)(2,"p"),e._uU(3),e.qZA()()()),2&o){const t=n.$implicit;e.xp6(3),e.Oqu(t.english_name)}}function O(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",45),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.chooseVideoToWatch(l.key))}),e.TgZ(2,"div",46),e._UZ(3,"img",47),e.qZA(),e.TgZ(4,"div",46)(5,"p"),e._uU(6),e.qZA()()()()}if(2&o){const t=n.$implicit,s=e.oxw();e.xp6(3),e.Q6J("src",s.VideoThumbnail+t.key+"/sddefault.jpg",e.LSH),e.xp6(3),e.Oqu(t.name)}}const y=function(o){return{backgroundImage:o}};let C=(()=>{class o{constructor(t,s,i){this._movieShowList=t,this._Router=s,this._titleService=i,this.baseUrlImg="https://image.tmdb.org/t/p/w500/",this.baseUrlImgOriginal="https://image.tmdb.org/t/p/original/",this.image="",this.TVDetails=[],this.seasonNumber=1,this.TVEpisodes=[],this.TVShowVideos=[],this.VideoThumbnail="https://img.youtube.com/vi/",this.baseUrlVid="https://www.youtube.com/embed/",this.vidKey="",this.flag=!1,this.customOptions2={loop:!0,mouseDrag:!1,touchDrag:!1,pullDrag:!0,dots:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!1,rewind:!0}}ngOnInit(){console.log(this._Router.snapshot.params),this.id=this._Router.snapshot.params,this._movieShowList.getTVDetails(this.id.id).subscribe({next:t=>{console.log(t),this.TVDetails=t,this.image=this.baseUrlImgOriginal+t.backdrop_path,this._titleService.setTitle(t.name)},error:t=>{console.log(t)}}),this._movieShowList.getTVSeasons(this.id.id,this.seasonNumber).subscribe({next:t=>{console.log(t,"Seasons"),this.TVEpisodes=t,window.dispatchEvent(new Event("resize"))},error:t=>{console.log(t,"Season Error")}}),this._movieShowList.getTVShowVideos(this.id.id).subscribe({next:t=>{this.TVShowVideos=t.results},error:t=>{console.log(t,"TVShowVideos Error")}})}trackByFn(t,s){return s.id}takeSeasonNumber(t,s=1){console.log(t.target.innerText.slice(7,9)),console.log(s,"index"),window.dispatchEvent(new Event("resize")),0!=t.target.innerText.slice(7,9)&&t.target.innerText.slice(7,9)>0?this._movieShowList.getTVSeasons(this.id.id,t.target.innerText.slice(7,9)).subscribe({next:i=>{this.flag=!0,console.log(i,"Seasons"),this.TVEpisodes=i,this.flag=!1,this._titleService.setTitle(this.TVDetails.name)},error:i=>{this.flag=!0,console.log(i,"Season Error"),this.flag=!1}}):(this._movieShowList.getTVSeasons(this.id.id,s).subscribe({next:i=>{this.flag=!0,console.log(i,"Seasons"),this.TVEpisodes=i,this.flag=!1},error:i=>{this.flag=!0,console.log(i,"Season Error"),this.flag=!1}}),console.log(s,"enter"))}chooseVideoToWatch(t){this.vidKey=t,console.log(this.baseUrlVid+this.vidKey);let s=document.querySelector(".background"),i=document.querySelector(".video"),l=document.querySelector(".show-details"),r=document.querySelector(".close-video");s?.classList.replace("open-background","close-background"),l?.classList.add("d-none"),setTimeout(()=>{s?.classList.add("d-none"),i?.classList.remove("d-none"),r?.classList.remove("d-none")},1e3)}stopVideo(){let t=document.querySelector(".background"),s=document.querySelector(".video"),i=document.querySelector(".show-details"),l=document.querySelector(".close-video");t?.classList.replace("close-background","open-background"),i?.classList.remove("d-none"),setTimeout(()=>{t?.classList.remove("d-none"),s?.classList.add("d-none"),l?.classList.add("d-none")},1e3),this.autoplay=0}static#e=this.\u0275fac=function(s){return new(s||o)(e.Y36(m.W),e.Y36(d.gz),e.Y36(h.Dx))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-tvdetails"]],standalone:!0,features:[e.jDz],decls:50,vars:17,consts:[[1,"maincolor"],[1,"sec"],[1,"w-100","min-vh-100","DM-sans","d-flex","align-items-center","text-white","background","open-background",2,"background-repeat","repeat","background-position","center center","background-size","cover",3,"ngStyle"],[1,"d-block","container","show-details"],[1,"fw-bold","DM-sans","display-4","mb-3"],[1,"d-flex","gap-2"],[1,"fas","fa-star"],[1,"w-50"],[1,""],["class","w-25 d-flex gap-2",4,"ngFor","ngForOf"],[1,"d-none","video","w-100","min-vh-100"],["frameborder","0",1,"w-100","min-vh-100",3,"src"],[1,"close-video","mt-3","ms-3","rounded","p-1","d-none",3,"click"],[1,"row","container-fluid","DM-sans"],[1,"maincolor","col-md-8"],[1,"container"],["id","pills-tab","role","tablist",1,"nav","nav-pills","mb-3"],["class","nav-item","role","presentation",4,"ngFor","ngForOf"],["id","pills-tabContent",1,"tab-content"],["class","tab-pane fade show","role","tabpanel","aria-labelledby","pills-home-tab","tabindex","0",4,"ngFor","ngForOf"],[1,"text-white","mb-2"],[1,"d-flex","flex-column","gap-3"],[4,"ngFor","ngForOf"],[1,"container","mt-3"],[1,"mb-2","text-white"],[1,"container","text-white"],[1,"col-md-4","background-color-videos","rounded","my-3","DM-sans","text-white"],[1,"d-flex","flex-column"],[1,"pt-2"],[1,"w-25","d-flex","gap-2"],[1,"w-25",3,"src","alt"],["role","presentation",1,"nav-item"],["class","nav-link","id","pills-home-tab","data-bs-toggle","pill","type","button","role","tab","aria-controls","pills-home","aria-selected","true",3,"click",4,"ngIf"],["id","pills-home-tab","data-bs-toggle","pill","type","button","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link",3,"click"],["role","tabpanel","aria-labelledby","pills-home-tab","tabindex","0",1,"tab-pane","fade","show"],["class","w-100 d-flex justify-content-center",4,"ngIf"],[3,"options"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"w-100","d-flex","justify-content-center"],["carouselSlide",""],[1,"text-reset","text-decoration-none","text-center",3,"routerLink"],["alt","BlockBuster","onerror","this.onerror=null; this.src='../../../assets/kiryu.jpg'",1,"rounded-3","px-1","w-100",3,"src"],[1,"text-white","DM-sans"],[1,"DM-sans","fw-semibold","mb-3","text-white","text-center"],[1,"text-white","d-flex","gap-2"],[1,"row","my-3","tv-videos","rounded",3,"click"],[1,"col-md-6"],[1,"w-100","rounded",3,"src","alt"]],template:function(s,i){1&s&&(e.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5),e.qZA(),e.TgZ(6,"div",5)(7,"p"),e._uU(8,"TV Series"),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"div"),e._UZ(12,"i",6),e._uU(13),e.qZA()(),e.TgZ(14,"div",7)(15,"p",8),e._uU(16),e.qZA()(),e.YNc(17,T,2,2,"div",9),e.qZA()(),e.TgZ(18,"div",10),e._UZ(19,"iframe",11),e.ALo(20,"sanitizeURL"),e.qZA(),e.TgZ(21,"button",12),e.NdJ("click",function(){return i.stopVideo()}),e._uU(22,"Close Video"),e.qZA()(),e.TgZ(23,"div",13)(24,"section",14)(25,"div",15)(26,"ul",16),e.YNc(27,b,2,1,"li",17),e.qZA(),e.TgZ(28,"div",18),e.YNc(29,D,4,5,"div",19),e.qZA()(),e.TgZ(30,"div",15)(31,"h4",20),e._uU(32,"Production Companies"),e.qZA(),e.TgZ(33,"div",21),e.YNc(34,w,2,2,"div",22),e.qZA()(),e.TgZ(35,"div",23)(36,"h4",24),e._uU(37,"Languages Spoken"),e.qZA(),e.YNc(38,k,4,1,"div",22),e.qZA(),e.TgZ(39,"div",25)(40,"h4"),e._uU(41,"TagLine"),e.qZA(),e.TgZ(42,"div")(43,"p"),e._uU(44),e.qZA()()()(),e.TgZ(45,"div",26)(46,"div",27)(47,"h4",28),e._uU(48,"Trailers and Videos"),e.qZA(),e.YNc(49,O,7,2,"div",22),e.qZA()()()()),2&s&&(e.xp6(2),e.Q6J("ngStyle",e.VKq(15,y,"url("+i.image+")")),e.xp6(3),e.Oqu(i.TVDetails.name),e.xp6(5),e.Oqu(null==i.TVDetails.first_air_date?null:i.TVDetails.first_air_date.slice(0,4)),e.xp6(3),e.hij(" ",i.TVDetails.vote_average," "),e.xp6(3),e.Oqu(i.TVDetails.overview),e.xp6(1),e.Q6J("ngForOf",i.TVDetails.networks),e.xp6(2),e.Q6J("src",e.lcZ(20,13,i.baseUrlVid+i.vidKey+"?autoplay="+i.autoplay),e.uOi),e.xp6(8),e.Q6J("ngForOf",i.TVDetails.seasons),e.xp6(2),e.Q6J("ngForOf",i.TVDetails.seasons),e.xp6(5),e.Q6J("ngForOf",i.TVDetails.production_companies),e.xp6(4),e.Q6J("ngForOf",i.TVDetails.spoken_languages),e.xp6(6),e.Oqu(i.TVDetails.tagline),e.xp6(5),e.Q6J("ngForOf",i.TVShowVideos))},dependencies:[c.ez,c.sg,c.O5,c.PC,d.Bz,d.rH,g.bB,g.Fy,g.Mp,p.c,u.p],styles:[".sec[_ngcontent-%COMP%]{padding:0}.maincolor[_ngcontent-%COMP%]{background-color:#141414}.background-color-videos[_ngcontent-%COMP%]{background:linear-gradient(14deg,rgba(0,0,0,1) 11%,rgba(20,20,20,1) 94%)}.close-background[_ngcontent-%COMP%]{opacity:1;animation:_ngcontent-%COMP%_close .4s 1 forwards}@keyframes _ngcontent-%COMP%_close{0%{opacity:1}to{opacity:0}}.open-background[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_open .4s 1 forwards}@keyframes _ngcontent-%COMP%_open{0%{opacity:0}to{opacity:1}}.close-video[_ngcontent-%COMP%]{background-color:#0a84ff;color:#fff;border:none}.close-video[_ngcontent-%COMP%]:hover{background-color:#000;transition:background-color .2s}.tv-videos[_ngcontent-%COMP%]:hover{background-color:#0a84ff;padding:1px;transition:background-color .2s;cursor:pointer}"]})}return o})()}}]);